<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head('Ver Presupuesto - RRHH')}">
    <title>Ver Presupuesto - RRHH</title>
</head>
<body>
<header th:replace="~{fragments/layout :: header(${#authentication.name})}"></header>

<div class="container mt-4">
    <h2>Detalles del Presupuesto</h2>

    <!-- Mensajes del sistema -->
    <div th:replace="~{fragments/layout :: messages}"></div>

    <!-- Tarjeta principal -->
    <div class="card mb-4">
        <div class="card-header">
            <h5>Presupuesto #<span th:text="${presupuesto.id}"></span></h5>
        </div>
        <div class="card-body">
            <!-- Información del cliente y proyecto -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <h6>Información del Cliente</h6>
                    <p><strong>Nombre:</strong> <span th:text="${presupuesto.nombreCliente}"></span></p>
                </div>
                <div class="col-md-6">
                    <h6>Información del Proyecto</h6>
                    <p><strong>Proyecto:</strong> <span th:text="${presupuesto.proyectoNombre}"></span></p>
                </div>
            </div>

            <!-- Detalles del presupuesto -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <h6>Detalles del Presupuesto</h6>
                    <p><strong>Fecha de Creación:</strong> <span th:text="${#temporals.format(presupuesto.fechaCreacion, 'dd/MM/yyyy')}"></span></p>
                    <p><strong>Estado:</strong> <span th:text="${presupuesto.estado}"></span></p>
                    <p><strong>Descripción:</strong> <span th:text="${presupuesto.descripcion ?: 'No disponible'}"></span></p>
                </div>
                <div class="col-md-6">
                    <h6>Información Económica</h6>
                    <p><strong>Horas Estimadas:</strong> <span th:text="${presupuesto.horasEstimadas}"></span></p>
                    <p><strong>Tarifa por Hora:</strong> <span th:text="${presupuesto.tarifaHora} + ' €'"></span></p>
                    <p><strong>Costo Total:</strong> <span th:text="${presupuesto.costoTotal} + ' €'"></span></p>
                </div>
            </div>
        </div>
        <div class="card-footer">
            <!-- Botón para volver a la lista de presupuestos -->
            <a th:href="@{/rrhh/presupuestos}" class="btn btn-secondary">Volver a Presupuestos</a>
        </div>
    </div>
</div>

<!-- JS y CSS -->
<link rel="stylesheet" th:href="@{/css/rrhh-proyectos-styles.css}">
<script th:src="@{/scripts/rrhh-proyectos.js}"></script>

<!-- Bootstrap Bundle -->
<script th:src="@{/webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
